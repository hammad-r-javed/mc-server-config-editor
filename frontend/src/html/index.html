<!DOCTYPE html>

<html>
    <head>
    </head>

    <body>
        <div id="elm-main"></div>

        <script src="elm.js"></script>
        <script>
            var elmRuntime = Elm.Main.init({
                node: document.getElementById("elm-main")
            });

            elmRuntime.ports.requestServerConf.subscribe(async () => {
                try {
                    const result = await window.go.app.App.LoadServerConf();
                    elmRuntime.ports.onServerConfReceived.send(result);
                } catch (err) {
                    console.error("Error calling wails runtime method `LoadServerConf` : ", err);
                };
            });
        </script>
    </body>
</html>
